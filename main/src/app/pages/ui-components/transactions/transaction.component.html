<mat-card class="cardWithShadow">
  <mat-card-content>
    <mat-card-title>Table des Transferts</mat-card-title>

    <div class="table-responsive">
      <table mat-table [dataSource]="Transferts" class="w-100">

 
        <ng-container matColumnDef="refTransfert">
          <th mat-header-cell *matHeaderCellDef class="f-w-600 f-s-14 p-l-0">RefTransfert</th>
          <td mat-cell *matCellDef="let element" class="p-l-0">
            {{ element.refTransfert }}
          </td>
        </ng-container>

     
        <ng-container matColumnDef="etatTransfert">
          <th mat-header-cell *matHeaderCellDef class="f-w-600 f-s-14">État transaction</th>
          <td mat-cell *matCellDef="let element">
            <span
              class="rounded f-w-600 p-6 p-y-4 f-s-12"
              [ngClass]="{
                'bg-light-primary text-primary': element.etatTransfert === 'TRAITEMENT',
                'bg-light-warning text-warning': element.etatTransfert === 'ANNULE',
                'bg-light-error text-error': element.etatTransfert === 'REJETE',
                'bg-light-success text-success': element.etatTransfert === 'VALIDE',
                'bg-light-info text-info': element.etatTransfert === 'ENVOYE'
              }"
            >
              {{ element.etatTransfert | titlecase }}
            </span>
          </td>
        </ng-container>

       

        <ng-container matColumnDef="montantTransfert">
          <th mat-header-cell *matHeaderCellDef class="f-w-600 f-s-14">Montant</th>
          <td mat-cell *matCellDef="let element">
            {{ element.montantTransfert | currency }}
          </td>
        </ng-container>

      

      
        <ng-container matColumnDef="montantFinal">
          <th mat-header-cell *matHeaderCellDef>Montant Final</th>
          <td mat-cell *matCellDef="let element">{{ element.montantFinal | currency }}</td>
        </ng-container>


        <ng-container matColumnDef="frais">
          <th mat-header-cell *matHeaderCellDef>Frais</th>
          <td mat-cell *matCellDef="let element">{{ element.frais | currency }}</td>
        </ng-container>

        <ng-container matColumnDef="datecre">
          <th mat-header-cell *matHeaderCellDef>Date Création</th>
          <td mat-cell *matCellDef="let element">{{ element.datecre | date }}</td>
        </ng-container>

  
        <ng-container matColumnDef="dateEnvoie">
          <th mat-header-cell *matHeaderCellDef>Date Envoi</th>
          <td mat-cell *matCellDef="let element">
            <span *ngIf="element.dateEnvoie; else notAvailableDateEnvoi">
              {{ element.dateEnvoie | date }}
            </span>
            <ng-template #notAvailableDateEnvoi>
              <span style="background-color: yellow; color: black; padding: 2px 6px; border-radius: 4px;">
                (pas encore)
              </span>
            </ng-template>
          </td>
        </ng-container>




        <ng-container matColumnDef="typeFrais">
          <th mat-header-cell *matHeaderCellDef>Type Frais</th>
          <td mat-cell *matCellDef="let element">{{ element.typeFrais }}</td>
        </ng-container>

    <ng-container matColumnDef="compteSource">
      <th mat-header-cell *matHeaderCellDef>Compte Source</th>
      <td mat-cell *matCellDef="let element">{{ element.compteBancaire_cible.numeroCompte   }}</td>
    </ng-container>

  
    <ng-container matColumnDef="compteCible">
      <th mat-header-cell *matHeaderCellDef>Compte Cible</th>
      <td mat-cell *matCellDef="let element">{{ element.compteBancaire_source.numeroCompte }}</td>
    </ng-container>


        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>
  </mat-card-content>
</mat-card>
<div *ngIf="pdfUrl">
  <iframe [src]="pdfUrl" width="100%" height="700px" style="border: none;"></iframe>
</div>
